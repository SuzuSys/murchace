{% extends "layout.html" %}

{% block title %}murchace - 新規注文{% endblock %}

{% block inner %}
  <div class="h-dvh flex flex-row">
    <main class="w-4/6 h-full grid grid-cols-4 gap-3 py-2 pl-16 pr-10 place-items-center overflow-y-auto">
      {% for product in products %}
        <figure
          hx-post="/orders/{{ session_id }}/item?product_id={{ product.product_id }}"
          hx-target="#order-session"
          class="size-full flex flex-col place-content-center border-4 rounded-md"
        >
          <img class="h-3/4 mx-auto" src={{ url_for('static', path=product.filename) }} alt={{ product.name }} />
          <figcaption class="my-auto text-center">{{ product.name }}</figcaption>
          {# <input type="number" min="0" step="1" class="w-full" /> #}
        </figure>
      {% endfor %}
    </main>
    <aside class="w-2/6 h-full flex flex-col px-2 py-4">
      <div class="h-1/6 flex flex-row items-center content-stretch text-xl">
        <div class="basis-1/4 text-left font-bold pl-4">注文一覧</div>
        <button class="basis-1/4 text-center" tabindex="0">保留</button>
        <button
          hx-delete="/orders/{{ session_id }}"
          hx-target="#order-session"
          class="basis-1/4 text-center text-red-600"
          tabindex="0"
        >全消去</button>
        <button class="basis-1/4 text-center text-sm" tabindex="0">
          <a href="/" tabindex="-1">ホームに戻る</a>
        </button>
      </div>
      <div id="order-session" class="h-5/6 pt-2">
        {% with placement_status = "", order_frozen = false %}
          {% include "components/order-session.html" with context %}
        {% endwith %}
      </div>
    </aside>
  </div>
{% endblock %}
